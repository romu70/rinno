---
// Column component - content block with optional title
interface Props {
  title?: string;
  fullWidth?: boolean;
  alignWithContent?: boolean;
  headingLevel?: "h2" | "h3" | "h4";
}

const {
  title,
  fullWidth = false,
  alignWithContent = false,
  headingLevel = "h3",
} = Astro.props;
const HeadingTag = headingLevel;
// Only apply align-with-content class when there's no title
const shouldAlignContent = alignWithContent && !title;
---

<div
  class:list={[
    "column",
    { "full-width": fullWidth, "align-with-content": shouldAlignContent },
  ]}
>
  {title && <HeadingTag>{title}</HeadingTag>}
  <div class="column-content">
    <slot />
  </div>
</div>

<style>
  .column {
    /* Minimal styling, no flex rules */
  }

  .column.full-width {
    flex: 1 1 100% !important;
  }

  .column.align-with-content > .column-content {
    /* Add top padding to align with sibling column content (after heading) */
    padding-top: 4.7rem;
  }

  @media (max-width: 768px) {
    .column.align-with-content > .column-content {
      padding-top: 0rem;
    }
  }

  @media (min-width: 1440px) {
    .column.align-with-content > .column-content {
      padding-top: 5.15rem;
    }
  }

  .column-content {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
</style>
